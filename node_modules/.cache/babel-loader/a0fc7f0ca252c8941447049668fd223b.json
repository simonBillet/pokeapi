{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { client } from \"../../api/client\";\nconst initialState = {\n  results: [{\n    id: '1',\n    title: 'Document 1'\n  }, {\n    id: '2',\n    title: 'Document 2'\n  }],\n  query: '',\n  status: 'idle',\n  selected: ''\n}; // This is managed by extra reducers\n\nexport const queryIndex = createAsyncThunk('documents/query', async query => {\n  const response = await client.get('https://pokeapi.co/api/v2/pokemon/' + query);\n  console.log(response.data.name);\n  return response.data;\n});\nconst documentsSlice = createSlice({\n  name: 'documents',\n  initialState,\n  reducers: {\n    documentsQuery(state, action) {\n      state.query = action.payload.query;\n    },\n\n    documentDetail(state, action) {\n      state.selected = action.payload.selected;\n    }\n\n  },\n  extraReducers: {\n    [queryIndex.pending]: (state, action) => {\n      state.status = 'loading';\n    },\n    [queryIndex.fulfilled]: (state, action) => {\n      state.status = 'succeeded'; // Add any fetched documents hits to the array\n\n      state.results = action.payload;\n    }\n  }\n}); // selectors\n\nexport const selectDocuments = state => state.documents.results; // selectors detail\n\nexport const selectDetail = state => state.documents.selected; // selectors status\n\nexport const selectorStatus = state => state.documents.status; // actions\n\nexport const {\n  documentsQuery,\n  documentDetail\n} = documentsSlice.actions;\nexport default documentsSlice.reducer;","map":{"version":3,"sources":["/Users/simonbillet/Documents/LicencePro/DWJSA/ProjetPokemon/my-app/src/features/documents/documentsSlice.js"],"names":["createAsyncThunk","createSlice","client","initialState","results","id","title","query","status","selected","queryIndex","response","get","console","log","data","name","documentsSlice","reducers","documentsQuery","state","action","payload","documentDetail","extraReducers","pending","fulfilled","selectDocuments","documents","selectDetail","selectorStatus","actions","reducer"],"mappings":"AAAA,SAAQA,gBAAR,EAA0BC,WAA1B,QAA4C,kBAA5C;AACA,SAAQC,MAAR,QAAqB,kBAArB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,OAAO,EAAG,CACN;AAAEC,IAAAA,EAAE,EAAE,GAAN;AAAWC,IAAAA,KAAK,EAAE;AAAlB,GADM,EAEN;AAAED,IAAAA,EAAE,EAAE,GAAN;AAAWC,IAAAA,KAAK,EAAE;AAAlB,GAFM,CADO;AAKjBC,EAAAA,KAAK,EAAG,EALS;AAMjBC,EAAAA,MAAM,EAAE,MANS;AAOjBC,EAAAA,QAAQ,EAAE;AAPO,CAArB,C,CASA;;AACA,OAAO,MAAMC,UAAU,GAAGV,gBAAgB,CAAC,iBAAD,EACtC,MAAMO,KAAN,IAAe;AACX,QAAMI,QAAQ,GAAG,MAAMT,MAAM,CAACU,GAAP,CAAW,uCAAqCL,KAAhD,CAAvB;AACAM,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACI,IAAT,CAAcC,IAA1B;AACA,SAAOL,QAAQ,CAACI,IAAhB;AACH,CALqC,CAAnC;AAOP,MAAME,cAAc,GAAGhB,WAAW,CAAC;AAC/Be,EAAAA,IAAI,EAAE,WADyB;AAE/Bb,EAAAA,YAF+B;AAG/Be,EAAAA,QAAQ,EAAE;AACNC,IAAAA,cAAc,CAACC,KAAD,EAAQC,MAAR,EAAgB;AAC1BD,MAAAA,KAAK,CAACb,KAAN,GAAcc,MAAM,CAACC,OAAP,CAAef,KAA7B;AACH,KAHK;;AAINgB,IAAAA,cAAc,CAACH,KAAD,EAAQC,MAAR,EAAgB;AAC1BD,MAAAA,KAAK,CAACX,QAAN,GAAiBY,MAAM,CAACC,OAAP,CAAeb,QAAhC;AACH;;AANK,GAHqB;AAW/Be,EAAAA,aAAa,EAAE;AACX,KAACd,UAAU,CAACe,OAAZ,GAAsB,CAACL,KAAD,EAAQC,MAAR,KAAmB;AACrCD,MAAAA,KAAK,CAACZ,MAAN,GAAe,SAAf;AACH,KAHU;AAIX,KAACE,UAAU,CAACgB,SAAZ,GAAwB,CAACN,KAAD,EAAQC,MAAR,KAAmB;AACvCD,MAAAA,KAAK,CAACZ,MAAN,GAAe,WAAf,CADuC,CAEvC;;AACAY,MAAAA,KAAK,CAAChB,OAAN,GAAgBiB,MAAM,CAACC,OAAvB;AACH;AARU;AAXgB,CAAD,CAAlC,C,CAsBA;;AACA,OAAO,MAAMK,eAAe,GAAGP,KAAK,IAAIA,KAAK,CAACQ,SAAN,CAAgBxB,OAAjD,C,CACP;;AACA,OAAO,MAAMyB,YAAY,GAAGT,KAAK,IAAIA,KAAK,CAACQ,SAAN,CAAgBnB,QAA9C,C,CACP;;AACA,OAAO,MAAMqB,cAAc,GAAGV,KAAK,IAAIA,KAAK,CAACQ,SAAN,CAAgBpB,MAAhD,C,CACP;;AACA,OAAO,MAAM;AAAEW,EAAAA,cAAF;AAAkBI,EAAAA;AAAlB,IAAqCN,cAAc,CAACc,OAA1D;AACP,eAAed,cAAc,CAACe,OAA9B","sourcesContent":["import {createAsyncThunk, createSlice} from '@reduxjs/toolkit'\nimport {client} from \"../../api/client\";\n\nconst initialState = {\n    results : [\n        { id: '1', title: 'Document 1' },\n        { id: '2', title: 'Document 2' }\n    ],\n    query : '',\n    status: 'idle',\n    selected: ''\n}\n// This is managed by extra reducers\nexport const queryIndex = createAsyncThunk('documents/query',\n    async query => {\n        const response = await client.get('https://pokeapi.co/api/v2/pokemon/'+query)\n        console.log(response.data.name)\n        return response.data\n    })\n\nconst documentsSlice = createSlice({\n    name: 'documents',\n    initialState,\n    reducers: {\n        documentsQuery(state, action) {\n            state.query = action.payload.query\n        },\n        documentDetail(state, action) {\n            state.selected = action.payload.selected\n        }\n    },\n    extraReducers: {\n        [queryIndex.pending]: (state, action) => {\n            state.status = 'loading'\n        },\n        [queryIndex.fulfilled]: (state, action) => {\n            state.status = 'succeeded'\n            // Add any fetched documents hits to the array\n            state.results = action.payload\n        }\n    }\n})\n// selectors\nexport const selectDocuments = state => state.documents.results\n// selectors detail\nexport const selectDetail = state => state.documents.selected\n// selectors status\nexport const selectorStatus = state => state.documents.status\n// actions\nexport const { documentsQuery, documentDetail } = documentsSlice.actions\nexport default documentsSlice.reducer\n"]},"metadata":{},"sourceType":"module"}